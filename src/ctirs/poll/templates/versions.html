{% include 'header.html' %}
<head>
<!--  for DataTable -->
<link href="/static/datatable/css/dataTables.bootstrap.min.css" rel="stylesheet">
<script type="text/javascript" src="/static/datatable/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="/static/datatable/js/dataTables.bootstrap.min.js"></script>
<!--  for versions -->
<link href="/static/ctirs/css/versions.css" rel="stylesheet">
<script type="text/javascript" src="/static/ctirs/js/versions.js"></script>
</head>
<body>
{% csrf_token %}
{% include 'nav_header.html' %}
<div class="container">
    <br/>
    <h1>Versions Result</h1>
    <br/>
    <hr/>
    <h2>Versions Information</h2>
    <div class="form-group">
        <div class="row">
            <div class="col-xs-2">
                Configuration Name
            </div>
            <div class="col-xs-4">
            	<p>{{ taxii.name }}</p>
            </div>
        </div> <!-- <div class="row">-->
    </div><!-- <div class="form-group"> -->
    <div class="form-group">
        <div class="row">
            <div class="col-xs-2">
                API ROOT
            </div>
            <div class="col-xs-4">
            	<p>{{ taxii.api_root }}</p>
            </div>
        </div> <!-- <div class="row">-->
    </div><!-- <div class="form-group"> -->
    <hr/>
    <div class="form-group">
        <div class="row">
            <div class="col-xs-2">
                Object ID
            </div>
            <div class="col-xs-4">
            	<p>{{ object_id }}</p>
            </div>
        </div> <!-- <div class="row">-->
    </div><!-- <div class="form-group"> -->
    <hr/>
    <h2>Versions Result</h2>
    <div class="form-group">
    <p id="error-msg">{{ error_msg |default:'' }}</p>
    <p id="info-msg">{{ info_msg |default:'' }}</p>
    </div>
    <div class="col-lg-12">
        <table class="table table-striped table-hover" id="versions-table" style="table-layout: fixed;">
        <thead>
            <tr>
                <th>
                    Version
                </th>
                <th>
                    Get
                </th>
                <th>
                    Delete
                </th>
            </tr>
        </thead>
        <tbody>
            {% for version in versions %}
            <tr>
                <td>
                    {{version}}
                </td>
                <td>
                    <button type="button" class="btn btn-info button-get" data-protocol-version="{{ taxii.protocol_version }}" data-taxii-id="{{ taxii.id }}" data-version="{{ version }}" >Get</button>
                </td>
                <td>
                    <button type="button" class="btn btn-danger button-delete" data-protocol-version="{{ taxii.protocol_version }}" data-taxii-id="{{ taxii.id }}" data-version="{{ version }}" >Delete</button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
            <input type="hidden" id="input-protocol-version" value="{{ taxii.protocol_version }}"/>
            <input type="hidden" id="input-taxii-id"  value="{{ taxii.id }}"/>
            <input type="hidden" id="input-object-id" value="{{ object_id }}"/>
    <div class="form-group">
        <div class="row">
            <button type="button" id="button-back" class="btn btn-info" data-taxii-id="{{taxii.id}}" data-protocol-version="{{taxii.protocol_version}}">Back</button>
        </div> <!-- <div class="row">-->
    </div><!-- <div class="form-group"> -->
</div> <!--  <div class="container"> -->
</form>

<div id="view-object-dialog">
    <form>
        <div class="form-group">
            <label for="object-content" class="col-form-label">Content:</label>
            <textarea class="form-control" id="object-content" rows="25" disabled></textarea>
        </div>
    </form>
</div>


</body>
</html>
